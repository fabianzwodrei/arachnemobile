// Generated by CoffeeScript 1.6.3
(function() {
  define(['backbone', 'routers/router', 'controller/common/menuController', 'collections/buildings', 'models/appStatus', 'models/user'], function(Backbone, Router, MenuController, BuildingsCollection, AppStatus, User) {
    return {
      initialize: function() {
        if (this.router) {
          delete this.router;
        }
        this.appStatus = new AppStatus();
        this.user = new User();
        this.menu = new MenuController({
          el: $('nav'),
          appStatus: this.appStatus
        });
        this.buildings = new BuildingsCollection();
        this.router = new Router({
          buildings: this.buildings,
          appStatus: this.appStatus,
          user: this.user
        });
        return Backbone.history.start();
      }
    };
  });

}).call(this);
